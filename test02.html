<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko" xml:lang="ko">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>DOM_2_2</title>
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<style type="text/css">
		#wrap {
			width: 100%;
			border:1px solid #ccc;
		}
		.consoleBox {
			padding: 10px;
			border: 2px solid #000;
			text-align: center;
		}
		.description {
			text-align: left;			
		}

	</style>
	<script src="http://code.jquery.com/jquery.min.js"></script>	 
	<script type="text/javascript">
		//<![CDATA[
		window.onload=function()
		{
			var choose_tag, write_tag, input_box1, input_box2, start_button;
			input_box1 = document.getElementById("btn1");
			input_box2 = document.getElementById("btn2");
			start_button = document.getElementById("btn3");
			input_box1.addEventListener("click", function(){
				setting1(this);
			});
			input_box1.addEventListener("focus", function(){
				setting1(this);
			});
			input_box1.addEventListener("blur", function(){
				check();
			});
			input_box2.addEventListener("click", function(){
				setting1(this);
			});
			input_box2.addEventListener("focus", function(){
				setting1(this);
			});
			input_box2.addEventListener("click", function(){
				check();
			});
			start_button.addEventListener("click", function(){
				choose_tag = input_box1.value;	
				change(choose_tag, write_tag);
				input_box1.value = "Enter the tag";
				input_box2.value = "Enter the new tag";				
			});
			function change(tag, writetag){
				var wrap = document.getElementById("wrap");
				var content = wrap.getElementsByTagName("div");
				//alert(content.length);
				var input_tag = content[2].getElementsByTagName(tag);
				var output_tag = document.createElement(writetag).cloneNode(true);				
				//alert(input_tag[0].nodeName);
				//input_tag.parentNode.replaceChild(output_tag,input_tag)
				for(var i=0; i<input_tag.length; i++){
					//alert(input_tag[i].nodeName);
					//input_tag[i].outerHTML = "<"+writetag+">"+input_tag[i].firstChild.nodeValue+"</"+writetag+">";
					
				}
				input_tag[0].appendChild(output_tag);
				input_tag[1].appendChild(output_tag);
			}
			function check(){
				if (input_box1.value.length>0){			
					switch(input_box2.value){
						case "":
							alert("You must enter the new tag");
							input_box2.focus();
							break;
						case "a":
						var link = prompt("Enter the address");
						write_tag = input_box2.value + " href=" + link;
						break;
						case "":
						break;
						default :
						write_tag = input_box2.value;
					}
				}
				else {
					alert("You must enter the origin tag");
					input_box1.focus();
				}
			}
			function setting1(target){
				target.value="";				
			}							 	
		}		
		//]]>
	</script>
</head>
<body>
	<div id="wrap">
		<h1>Change the html tag</h1>
		<div class="consoleBox">
			<input type="text" id="btn1" value="Enter the tag">
			<input type="text" id="btn2" value="Enter the new tag">
			<button id="btn3">Start</button>
			<button id="btn4">Reset</button>
			<div class="description">
				<h2>Description</h2>
				<ol>
					<li></li>
					<li></li>
					<li></li>
					<li></li>
				</ol>
			</div>
		</div>
		<div class="content">
			<p>sample01</p>
			<p>sample02</p>
			<p>sample03</p>
			<p>sample04</p>
			<p>sample05</p>
			<p>sample06</p>
			<p>sample07</p>
			<p>sample08</p>
			<p>sample09</p>
			<p>sample10</p>
		</div>
	</div>
</body>
</html>